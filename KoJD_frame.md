# 2주차. 나만의 챗봇

서울 고재두, https://github.com/nadarm



## I. 스펙(Specification)

------

구현된 어플리케이션의 주요 기능

### 주요 기능

#### 로또, 날씨

1. `telegram.py` 의 `main()`함수에서  `while`문을 돌며 1초마다 메세지 확인한다.
2. 사용자가 봇에게 `날씨` 혹은 `로또`라는 메세지를 보낸다.
3. `while`문에서 확인한 메세지가 전에 답장한 메세지일 경우 넘어간다.
4. 새로운 메세지일 경우 `do_something()`함수를 사용한다.
5. `do_something()`함수는 받은 메세지에 `로또`나 `날씨`라는 단어가 있는지 확인한다.
6. `로또`나 `날씨`라는 단어가 있으면 그에 따른 답장을 만드는 함수를 사용한다.
7. `do_something()`은 생성된 답장을 리스트에 넣어 리턴해준다.
8. `send_telegram_msg()` 함수는 `do_something()`에서 만든 답장 리스트를 받아 텔레그램으로 메세지를 발송한다. 


#### 날씨 자동 알림

1. 사용자가 봇에게 `구독하기` 혹은 `구독정지`라는 메세지를 보낸다.
2. `구독하기`의 경우 구독자의 ID를 `./chat_bot_user_id/user_ids.txt`파일에 저장한다.
3. `구독정지`의 경우 구독자의 ID를 `./chat_bot_user_id/user_ids.txt`파일에서 삭제한다.
4. `inform_eigth_weather()`함수로 매일 아침 8시가 되면 날씨 정보를 `weather.get_multicampus_weather_str()`함수로 가져온다.
5. `send_msg_subscriber()`함수는 가져온 날씨 정보를 `user_ids.txt`에 저장된 **모든 구독자**에게 메세지를 발송한다. 



## II. 회고(Retrospective)

------

어플리케이션 구현 과정에서의 어려움과 문제점

- 네이버 몇 몇 사이트에서 크롤링이 안됐다.
- 어떤 기능을 만들지 아이디어가 떠오르지 않아 힘들었다.



## III. 보완 계획(Feedback)

------

현재 미완성이지만 추가로 구현할 기능 및 기존 문제점 보완 계획

### 보완 기능

- 메세지가 빠르게 들어올 경우에도 놓치는 메세지가 생기지 않게 하고 싶다.
- 로또 회차 번호를 인식해서 보여주고 싶다.
- 사용자의 로또 번호를 인식해서 당첨여부를 알려주고 싶다.
